# Git工作规则

简化策划/美术的工作, 尽可能减少冲突

## Excel/导出资源

Excel和导出资源需要更改结构时, 不要直接改名, 先增加新的字段, 代码适配完之后, 再删除不用的旧字段

1. 主干开分支, 提交新的Excel表格和表格生成数据
2. 分支合并至主干, 之后策划可以在这个基础上开始工作
3. 将修改从主干merge至需要的功能开发分支
4. 正常开发功能, 可以自由修改测试数据, 策划在分支验功能
5. 功能开发结束, 合并回主干, 此时数据以主干为准
6. 功能完成, 后续策划在主干上继续修改配置

## 美术prefab/美术资源

美术直接在主干上提交, 不再切分支

1. 美术在主干上提交第一版, 在功能开发完成之前, prefab不再允许美术修改
2. 程序merge相关资源至需要的功能开发分支
3. 程序对prefab进行需要的修改
4. 功能开发完成, 合并回主干, 此时如果产生冲突, 以分支为准
5. 解除美术的锁定, 可以继续在主干优化效果

## 代码提交

合并无用的提交记录, 让版本提交记录更加清晰

1. 功能开发全部在分支上进行
2. commit不一定要push, 本地分支可以随意commit, 但是push到远程分支时, 需要将本地多次commit合并(squash)

参考文章: 深入git rebase使用
https://baijiahao.baidu.com/s?id=1633418495146592435
